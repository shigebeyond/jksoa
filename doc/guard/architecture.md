

# 流程

方法级注解解析在 `net.jkcode.jksoa.guard.MethodGuard`

调用方法时触发守护逻辑在 `net.jkcode.jksoa.guard.MethodGuardInvoker`

在方法中声明守护相关的注解, 调用方法时触发注解相关的守护逻辑:

1. 根据group来合并请求

2. 根据key来合并请求

3. 断路检查: 检查是否处于断路状态中, 如果是则走异常处理步骤 8, 否则检查流量统计的相关指标是否超过阀值, 如果超过则入断路状态, 也走异常处理步骤 8

4. 限流检查: 检查单位时间内流量是否超过阀值, 超过则异常处理步骤 8

5. 读缓存: 如果缓存命中, 则直接返回缓存结果

6. 真正的方法调用

7. 流量统计: 统计总计数/成功数/失败数/总耗时等

8. 异常处理: 如果设置了降级, 则走降级处理, 否则往上抛异常

